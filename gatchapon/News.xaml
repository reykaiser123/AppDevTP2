<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="gatchapon.News"
             Title="NEWS"
             BackgroundColor="#ADC179"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">
    <!-- Hides the Tab Bar -->

    <Grid RowDefinitions="Auto, *">

        <!-- CUSTOM HEADER -->
        <Grid Grid.Row="0" 
              BackgroundColor="#95A564"
              HeightRequest="60"
              Padding="15,0">

            <!-- Back Button -->
            <ImageButton Source="back_icon.png"
                         HeightRequest="30"
                         WidthRequest="30"
                         HorizontalOptions="Start"
                         VerticalOptions="Center"
                         BackgroundColor="Transparent"
                         Clicked="OnBackClicked"/>

            <!-- Title -->
            <Label Text="NEWS"
                   TextColor="White"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"/>
        </Grid>

        <!-- SCROLLABLE CONTENT -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20" Spacing="0">

                <!-- NEWS STICKER HEADER SECTION -->
                <Grid ColumnDefinitions="*, Auto" 
                      HeightRequest="140"
                      VerticalOptions="End"
                      ZIndex="1"
                      Margin="0,10,0,-30">

                    <!-- News Sticker -->
                    <Image Grid.Column="0"
                           Grid.ColumnSpan="2"
                           Source="news_title_sticker.png" 
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           HeightRequest="130" 
                           Aspect="AspectFit"/>

                    <!-- Sort Button -->
                    <Button Grid.Column="1"
                            Text="Sort"
                            FontSize="12"
                            TextColor="White"
                            BackgroundColor="#6C534D"
                            CornerRadius="8"
                            WidthRequest="60"
                            HeightRequest="30"
                            VerticalOptions="Start"
                            HorizontalOptions="End"
                            Margin="0,20,10,0"
                            Clicked="OnSortClicked"/>
                </Grid>

                <!-- MAIN CONTENT CARD -->
                <Border BackgroundColor="#DCE5B6"
                        Padding="12"
                        StrokeThickness="0"
                        Margin="0,0,0,20">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="16"/>
                    </Border.StrokeShape>

                    <VerticalStackLayout Spacing="12">

                        <!-- Inner Image Card -->
                        <Border HeightRequest="180"
                                HorizontalOptions="Fill"
                                Padding="0"
                                BackgroundColor="#C9D4AA"
                                StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>

                            <Image Source="news_img.png"
                                   Aspect="AspectFill" 
                                   VerticalOptions="Fill"
                                   HorizontalOptions="Fill"/>
                        </Border>

                        <!-- Text Content -->
                        <Border BackgroundColor="#F0EAD2"
                                Padding="15">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>

                            <VerticalStackLayout Spacing="8">
                                <!-- Header Row -->
                                <Grid ColumnDefinitions="*, Auto">
                                    <Label Grid.Column="0" 
                                           Text="Version 1.004"
                                           FontAttributes="Bold"
                                           FontSize="18"
                                           TextColor="#5A4A42"/>

                                    <Label Grid.Column="1" 
                                           Text="19 / 11 / 25"
                                           FontSize="12"
                                           TextColor="#8C7B70"
                                           VerticalOptions="Center"/>
                                </Grid>

                                <BoxView HeightRequest="1" Color="#D4CDB8" Margin="0,2"/>

                                <Label Text="We've pushed a script update in version 1.004 containing vital backend changes, quality-of-life additions, and stability fixes:"
                                       FontSize="14"
                                       TextColor="#4A3A32"
                                       LineHeight="1.2"/>

                                <Label Text="• Script Optimization: Enhanced core processing routines, resulting in a 10% reduction in average load times.&#10;• Balance Changes: Adjusted loot table weights for rare drops.&#10;• Bug Fixes: Resolved an issue causing the 'Sort' button to occasionally fail."
                                       FontSize="13"
                                       TextColor="#5A4A42"
                                       LineHeight="1.4"/>
                            </VerticalStackLayout>
                        </Border>

                    </VerticalStackLayout>
                </Border>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>